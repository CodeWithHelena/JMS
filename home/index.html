<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="/home/style.css">
    <style>
        :root {
            --background: #ffffff;
            --foreground: #030712;
            --card: #ffffff;
            --card-foreground: #030712;

            /* === NEW MAIN BRAND COLORS === */
            --primary: #1F1B51;
            /* hsl(243 50% 22%) */
            --primary-dark: #17133D;
            /* hsl(243 55% 18%) - darker #1F1B51 */
            --primary-light: #F5F4FE;
            /* hsl(243 50% 96%) */

            --lite-secondary1: #0E6BA7;
            /* hsl(205 78% 35%) */
            --lite-secondary2: #00BFFF;
            /* hsl(195 100% 50%) */

            --primary-foreground: #ffffff;

            --secondary: #f1f5f9;
            --secondary-foreground: #0f172a;

            --muted: #f1f5f9;
            --muted-foreground: #64748b;

            --accent: #f1f5f9;
            --accent-foreground: #0f172a;

            --destructive: #ef4444;
            --border: #e2e8f0;
            --input: #e2e8f0;

            --ring: #1F1B51;
            /* matches primary */
            --radius: 0.5rem;
        }


        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: var(--foreground);
            background-color: var(--background);
        }

        .container {
            width: 100%;
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 1.5rem;
        }

     

        /* Hero Section */
        .hero {
            padding: 5rem 0;
            background: linear-gradient(135deg, rgba(31, 27, 81, 0.05) 0%, transparent 100%);
        }

        .hero-content {
            max-width: 800px;
            text-align: center;
            margin: 0 auto;
        }

        .hero h1 {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            background: linear-gradient(to right, var(--primary), var(--lite-secondary1));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--muted-foreground);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            border-radius: var(--radius);
            font-weight: 500;
            padding: 0.75rem 1.5rem;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 1rem;
            text-decoration: none;
        }

        .btn-primary {
            background-color: var(--primary);
            color: var(--primary-foreground);
        }

        .btn-primary:hover {
            background-color: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(31, 27, 81, 0.3);
        }

        .btn-outline {
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--border);
        }

        .btn-outline:hover {
            background-color: var(--accent);
            border-color: var(--primary);
        }

        .btn-lg {
            padding: 1rem 2rem;
            font-size: 1.125rem;
        }

        .btn-group {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Auth buttons */
        .auth-buttons {
            display: flex;
            gap: 0.75rem;
            align-items: center;
        }

        .btn-signin {
            background-color: var(--primary) !important;
            color: white !important;
            padding: 0.5rem 1.5rem;
            border-radius: var(--radius);
            text-decoration: none;
            font-weight: 500;
            transition: background-color 0.2s;
            border: none;
        }

        .btn-signin:hover {
            background-color: var(--primary-dark) !important;
        }

        .btn-register {
            background-color: transparent;
            color: var(--primary);
            border: 1px solid var(--primary);
            padding: 0.5rem 1.5rem;
            border-radius: var(--radius);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
        }

        .btn-register:hover {
            background-color: rgba(31, 27, 81, 0.1);
        }

        /* Features Section */
        .section {
            padding: 5rem 0;
        }

        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-title h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--foreground);
        }

        .section-title p {
            font-size: 1.125rem;
            color: var(--muted-foreground);
            max-width: 600px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background-color: var(--card);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 2rem;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .feature-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 3.5rem;
            height: 3.5rem;
            border-radius: var(--radius);
            background-color: rgba(14, 107, 167, 0.1);
            color: var(--lite-secondary1);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }

        .feature-card h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .feature-card p {
            color: var(--muted-foreground);
        }

        /* Journals Section */
        .journals-section {
            background-color: var(--secondary);
            padding: 5rem 0;
        }

        .journals-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .journals-header h2 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--foreground);
        }

        .journals-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .journal-card {
            background-color: var(--card);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .journal-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .journal-header {
            padding: 1.5rem 1.5rem 0.5rem;
        }

        .journal-badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            background-color: rgba(0, 191, 255, 0.1);
            color: var(--lite-secondary2);
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 500;
            margin-bottom: 1rem;
        }

        .journal-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .journal-issn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--muted-foreground);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .journal-content {
            padding: 0 1.5rem 1.5rem;
        }

        .journal-description {
            color: var(--muted-foreground);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .journal-details {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .detail-row {
            display: flex;
            justify-content: space-between;
            font-size: 0.875rem;
        }

        .detail-label {
            color: var(--muted-foreground);
        }

        .detail-value {
            font-weight: 500;
        }

        .journal-indexing {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border);
        }

        .indexing-label {
            font-size: 0.75rem;
            font-weight: 500;
            color: var(--muted-foreground);
            margin-bottom: 0.5rem;
        }

        .indexing-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }

        .indexing-badge {
            background-color: rgba(14, 107, 167, 0.1);
            color: var(--lite-secondary1);
            padding: 0.25rem 0.75rem;
            border-radius: var(--radius);
            font-size: 0.75rem;
            font-weight: 500;
            border: 1px solid rgba(14, 107, 167, 0.2);
        }

        .journal-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--border);
            background-color: rgba(241, 245, 249, 0.5);
        }

        .journal-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
        }

        .status-active {
            color: #10b981;
            font-weight: 500;
        }

        .status-inactive {
            color: #ef4444;
            font-weight: 500;
        }

        /* Stats Section */
        .stats-section {
            padding: 5rem 0;
            background: linear-gradient(135deg, var(--lite-secondary1) 0%, var(--lite-secondary2) 100%);
            color: white;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 2rem;
        }

        .stat-card {
            text-align: center;
        }

        .stat-number {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            line-height: 1;
        }

        .stat-label {
            font-size: 1.125rem;
            opacity: 0.9;
        }

        /* Issues Preview Section */
        .issues-section {
            padding: 5rem 0;
            background-color: var(--background);
        }

        .issues-preview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .issue-card {
            background: white;
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid var(--border);
            transition: transform 0.3s ease;
        }

        .issue-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .issue-cover {
            height: 200px;
            background: linear-gradient(135deg, rgba(31, 27, 81, 0.1), rgba(14, 107, 167, 0.1));
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--lite-secondary1);
            font-size: 4rem;
        }

        .issue-content {
            padding: 1.5rem;
        }

        .issue-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--foreground);
        }

        .issue-meta {
            display: flex;
            justify-content: space-between;
            color: var(--muted-foreground);
            font-size: 0.875rem;
            margin-bottom: 1rem;
        }

        .issue-description {
            color: var(--muted-foreground);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* CTA Section */
        .cta-section {
            padding: 5rem 0;
            text-align: center;
            background-color: var(--secondary);
        }

        .cta-content {
            max-width: 700px;
            margin: 0 auto;
        }

        .cta-content h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--foreground);
        }

        .cta-content p {
            font-size: 1.125rem;
            color: var(--muted-foreground);
            margin-bottom: 2rem;
        }

 
    </style>
</head>

<body>
    <!-- Header -->
    <header id="header">
    </header>
    <script src="/home/js/header.js"></script>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content fade-in">
                <h1>International Journal of Research Innovation and Development</h1>
                <p>An open access peer-reviewed international journal for scientists and engineers involved in research to publish high quality and refereed papers.</p>
                <div class="btn-group">
                    <a href="#journals" class="btn btn-primary btn-lg">
                        <i class="fas fa-search"></i> Browse Journals
                    </a>
                    <a href="#features" class="btn btn-outline btn-lg">
                        <i class="fas fa-play-circle"></i> Watch Demo
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="section">
        <div class="container">
            <div class="section-title fade-in">
                <h2>Powerful Features</h2>
                <p>Everything you need to manage the complete publishing lifecycle efficiently</p>
            </div>

            <div class="features-grid">
                <div class="feature-card fade-in stagger-delay-1">
                    <div class="feature-icon">
                        <i class="fas fa-globe"></i>
                    </div>
                    <h3>Global Indexing</h3>
                    <p>All published papers will index with ResearchGate, Semantic Scholar, Scribd, Google Scholar.</p>
                </div>

                <div class="feature-card fade-in stagger-delay-2">
                    <div class="feature-icon">
                        <i class="fas fa-user-check"></i>
                    </div>
                    <h3>Peer Review</h3>
                    <p>Publishes high-quality, peer-reviewed research with open access for global readers.</p>
                </div>

                <div class="feature-card fade-in stagger-delay-3">
                    <div class="feature-icon">
                        <i class="fas fa-file-signature"></i>
                    </div>
                    <h3>Submission Tracking</h3>
                    <p>Author's IJISRT login panel to track the status of the paper.</p>
                </div>

                <div class="feature-card fade-in stagger-delay-4">
                    <div class="feature-icon">
                        <i class="fas fa-award"></i>
                    </div>
                    <h3>Author Benefits</h3>
                    <p>Provides eCertificates, full paper access, and prompt author support services.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Journals Section -->
    <section id="journals" class="journals-section">
        <div class="container">
            <div class="journals-header fade-in">
                <div>
                    <h2>Featured Journals</h2>
                    <p>Discover leading academic journals managed on our platform</p>
                </div>
                <a href="journal.html" class="btn btn-outline">
                    View All Journals <i class="fas fa-arrow-right"></i>
                </a>
            </div>

            <div class="journals-grid" id="journalsContainer">
                <!-- Journals will be loaded dynamically here -->
            </div>

            <div class="text-center fade-in">
                <a href="journal.html"><button id="loadMoreBtn" class="btn btn-primary btn-lg">
                        <i class="fas fa-eye"></i> View More Journals
                    </button></a>
            </div>
        </div>
    </section>

    <!-- Issues Section -->
    <section id="issues" class="issues-section">
        <div class="container">
            <div class="section-title fade-in">
                <h2>Latest Journal Issues</h2>
                <p>Explore recently published issues from our managed journals</p>
            </div>

            <div class="issues-preview">
                <div class="issue-card fade-in">
                    <div class="issue-cover">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="issue-content">
                        <h3 class="issue-title">Vol. 12, Issue 3, 2024</h3>
                        <div class="issue-meta">
                            <span>Agricultural Management</span>
                            <span>Sep 2024</span>
                        </div>
                        <p class="issue-description">Latest research in sustainable agriculture, crop management, and food security innovations.</p>
                    </div>
                </div>

                <div class="issue-card fade-in stagger-delay-1">
                    <div class="issue-cover">
                        <i class="fas fa-stethoscope"></i>
                    </div>
                    <div class="issue-content">
                        <h3 class="issue-title">Vol. 8, Issue 2, 2024</h3>
                        <div class="issue-meta">
                            <span>Medical Sciences</span>
                            <span>Aug 2024</span>
                        </div>
                        <p class="issue-description">Cutting-edge medical research and clinical studies from leading healthcare institutions.</p>
                    </div>
                </div>

                <div class="issue-card fade-in stagger-delay-2">
                    <div class="issue-cover">
                        <i class="fas fa-laptop-code"></i>
                    </div>
                    <div class="issue-content">
                        <h3 class="issue-title">Vol. 15, Issue 4, 2024</h3>
                        <div class="issue-meta">
                            <span>Computer Science</span>
                            <span>Jul 2024</span>
                        </div>
                        <p class="issue-description">Advances in AI, machine learning, and software engineering from top researchers.</p>
                    </div>
                </div>
            </div>

            <div class="text-center mt-8 fade-in">
                <a href="issues.html" class="btn btn-outline btn-lg">
                    <i class="fas fa-newspaper"></i> Browse All Issues
                </a>
            </div>
        </div>
    </section>

    <!-- Stats Section -->
    <section class="stats-section">
        <div class="container">
            <div class="stats-grid">
                <div class="stat-card fade-in">
                    <div class="stat-number">50+</div>
                    <div class="stat-label">Journals Managed</div>
                </div>

                <div class="stat-card fade-in stagger-delay-1">
                    <div class="stat-number">10K+</div>
                    <div class="stat-label">Active Submissions</div>
                </div>

                <div class="stat-card fade-in stagger-delay-2">
                    <div class="stat-number">2K+</div>
                    <div class="stat-label">Published Articles</div>
                </div>

                <div class="stat-card fade-in stagger-delay-3">
                    <div class="stat-number">500+</div>
                    <div class="stat-label">Expert Reviewers</div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content fade-in">
                <h2>Ready to Transform Your Journal Management?</h2>
                <p>Join hundreds of academic institutions and publishers who trust JournalFlow to manage their journals efficiently.</p>
                <div class="btn-group">
                    <a href="#" class="btn btn-primary btn-lg">
                        <i class="fas fa-rocket"></i> Get Started Now
                    </a>
                    <a href="#" class="btn btn-outline btn-lg">
                        <i class="fas fa-calendar-alt"></i> Schedule Demo
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="footer">
        
    </footer>
    <script src="/js/footer.js"></script>

    <script type="module">
        // index.html - replace the previous inline script with this and use <script type="module">
            import { BASE_URL } from '../assets/js/utility.js';

            // DOM Elements
            const journalsContainer = document.getElementById('journalsContainer');
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const navLinks = document.querySelector('.nav-links');

            // Configuration
            let journalsData = [];        // will be populated from API
            let visibleJournals = 3;
            const journalsPerLoad = 3;

            // Format currency (keeps your original behaviour)
            function formatCurrency(amount, currency) {
                const formatter = new Intl.NumberFormat('en-US', {
                    style: 'currency',
                    currency: currency,
                    minimumFractionDigits: 0,
                    maximumFractionDigits: 0
                });

                try {
                    return formatter.format(amount);
                } catch {
                    return `${amount} ${currency}`;
                }
            }

            // Format review policy (keeps original)
            function formatReviewPolicy(policy) {
                if (!policy) return '';
                return policy.split('-').map(word =>
                    word.charAt(0).toUpperCase() + word.slice(1)
                ).join('-');
            }

            // Create journal card HTML (only tiny change: handles id either way)
            function createJournalCard(journal) {
                // journal._id might be { $oid: '...' } or string
                const idValue = journal._id && (journal._id.$oid || journal._id);
                return `
        <div class="journal-card fade-in">
            <div class="journal-header">
                <span class="journal-badge">${journal.scope || ''}</span>
                <h3 class="journal-title">${journal.title || ''}</h3>
                <div class="journal-issn">
                    <i class="fas fa-globe"></i>
                    <span>ISSN: ${journal.issn || 'N/A'}</span>
                </div>
            </div>
            
            <div class="journal-content">
                <p class="journal-description">${journal.description || ''}</p>
                
                <div class="journal-details">
                    <div class="detail-row">
                        <span class="detail-label">Publisher:</span>
                        <span class="detail-value">${journal.publisher || ''}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Review Policy:</span>
                        <span class="detail-value">${formatReviewPolicy(journal.reviewPolicy || '')}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Publication Fee:</span>
                        <span class="detail-value">${journal.publicationFee ? formatCurrency(journal.publicationFee, journal.currency || 'USD') : (journal.publicationFee === 0 ? formatCurrency(0, journal.currency || 'USD') : 'N/A')}</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Submission Fee:</span>
                        <span class="detail-value">${(journal.submissionFee === 0) ? 'Free' : (journal.submissionFee ? formatCurrency(journal.submissionFee, journal.currency || 'USD') : 'N/A')}</span>
                    </div>
                </div>
                
                ${journal.indexing && journal.indexing.length > 0 ? `
                    <div class="journal-indexing">
                        <div class="indexing-label">Indexed In:</div>
                        <div class="indexing-badges">
                            ${journal.indexing.map(index =>
                    `<span class="indexing-badge">${index.name}</span>`
                ).join('')}
                        </div>
                    </div>
                ` : ''}
            </div>
            
            <div class="journal-footer">
                <div class="journal-status">
                    <i class="fas fa-circle ${journal.isActive ? 'status-active' : 'status-inactive'}"></i>
                    <span class="${journal.isActive ? 'status-active' : 'status-inactive'}">
                        ${journal.isActive ? 'Active' : 'Inactive'}
                    </span>
                </div>
                <button class="btn btn-primary btn-sm" onclick="viewJournal('${idValue}')">
                    <i class="fas fa-external-link-alt"></i> View Journal
                </button>
            </div>
        </div>
    `;
            }

            // Render journals (keeps behaviour)
            function renderJournals() {
                const journalsToShow = journalsData.slice(0, visibleJournals);
                if (journalsToShow.length === 0) {
                    journalsContainer.innerHTML = `<div style="padding:2rem; text-align:center; color:var(--muted-foreground)">No journals found.</div>`;
                } else {
                    journalsContainer.innerHTML = journalsToShow.map(journal =>
                        createJournalCard(journal)
                    ).join('');
                }

                // Hide or show load more button
                if (visibleJournals >= journalsData.length) {
                    loadMoreBtn.style.display = 'none';
                } else {
                    loadMoreBtn.style.display = 'inline-flex';
                }
            }

            // Load more journals (same UX)
            function loadMoreJournals() {
                loadMoreBtn.classList.add('loading');
                const previousInner = loadMoreBtn.innerHTML;
                loadMoreBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';

                setTimeout(() => {
                    visibleJournals += journalsPerLoad;
                    renderJournals();
                    loadMoreBtn.classList.remove('loading');
                    loadMoreBtn.innerHTML = previousInner;

                    const newCards = journalsContainer.querySelectorAll('.journal-card');
                    if (newCards.length > 0) {
                        newCards[newCards.length - 1].scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    }
                }, 350); // kept small delay for UX
            }

            // View journal details (keeps existing alert behaviour)
            window.viewJournal = function (journalId) {
                const journal = journalsData.find(j => {
                    const id = j._id && (j._id.$oid || j._id);
                    return String(id) === String(journalId);
                });
                if (journal) {
                    alert(`Viewing: ${journal.title}\n\nPublisher: ${journal.publisher || 'N/A'}\nEmail: ${journal.email || 'N/A'}\nScope: ${journal.scope || 'N/A'}`);
                    // leave navigation to journal detail page to your existing site logic
                }
            };

            // Normalise API journal object so rest of code stays the same
            function normalizeJournal(apiJournal) {
                // If API returns _id as string, or object, convert to { $oid: '...' } shape for compatibility
                let id = apiJournal._id;
                if (!id) id = '';
                if (typeof id === 'string') {
                    id = { $oid: id };
                } else if (typeof id === 'object' && id.$oid) {
                    // keep as-is
                } else if (typeof id === 'object' && id.toString) {
                    id = { $oid: String(id) };
                }

                return {
                    ...apiJournal,
                    _id: id
                };
            }

            // Fetch journals from API
            async function fetchJournalsFromApi() {
                const endpoint = `${BASE_URL}/journal?page=1&limit=10`;

                // basic loading UI (doesn't change design)
                journalsContainer.innerHTML = `<div style="padding:2rem; text-align:center;"><i class="fas fa-spinner fa-spin"></i> Loading journals...</div>`;
                loadMoreBtn.style.display = 'none';

                try {
                    const res = await fetch(endpoint, {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                        // add credentials or auth header here if your API needs it
                    });

                    if (!res.ok) {
                        throw new Error(`API responded with status ${res.status}`);
                    }

                    const data = await res.json();

                    if (!data || !data.journals) {
                        journalsData = [];
                        renderJournals();
                        console.warn('API returned no journals:', data);
                        return;
                    }

                    // Normalise items
                    journalsData = data.journals.map(normalizeJournal);

                    // Reset visible count (keeps the same initial UX)
                    visibleJournals = Math.min(3, journalsData.length);

                    renderJournals();
                } catch (err) {
                    console.error('Failed to fetch journals:', err);
                    journalsContainer.innerHTML = `
            <div style="padding:2rem; text-align:center; color:var(--muted-foreground)">
                Unable to load journals right now. Please check your connection.
            </div>
        `;
                }
            }

            // Toggle mobile menu (keeps your original code)
            function toggleMobileMenu() {
                navLinks.classList.toggle('active');
                const icon = mobileMenuBtn.querySelector('i');
                if (navLinks.classList.contains('active')) {
                    icon.classList.remove('fa-bars');
                    icon.classList.add('fa-times');
                } else {
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                }
            }

            // Close mobile menu when clicking outside (keeps behaviour)
            document.addEventListener('click', (e) => {
                if (!navLinks.contains(e.target) && mobileMenuBtn && !mobileMenuBtn.contains(e.target)) {
                    navLinks.classList.remove('active');
                    const icon = mobileMenuBtn.querySelector('i');
                    if (icon) {
                        icon.classList.remove('fa-times');
                        icon.classList.add('fa-bars');
                    }
                }
            });

            // Smooth scrolling for anchor links (keeps behaviour)
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    if (targetId === '#') return;

                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        // Close mobile menu if open
                        if (navLinks) navLinks.classList.remove('active');
                        const icon = mobileMenuBtn && mobileMenuBtn.querySelector('i');
                        if (icon) {
                            icon.classList.remove('fa-times');
                            icon.classList.add('fa-bars');
                        }

                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Intersection Observer for animations (keeps behaviour)
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, observerOptions);

            // DOMContentLoaded initialisation
            document.addEventListener('DOMContentLoaded', () => {
                // Fetch journals from API and render
                fetchJournalsFromApi();

                // Set up event listeners
                if (loadMoreBtn) loadMoreBtn.addEventListener('click', loadMoreJournals);
                if (mobileMenuBtn) mobileMenuBtn.addEventListener('click', toggleMobileMenu);

                // Observe elements for scroll animations (keeps existing selectors)
                document.querySelectorAll('.section-title, .feature-card, .stat-card, .cta-content, .issue-card').forEach(el => {
                    observer.observe(el);
                });

                // Handle window resize (keeps behaviour)
                window.addEventListener('resize', () => {
                    if (window.innerWidth > 768 && navLinks) {
                        navLinks.classList.remove('active');
                        const icon = mobileMenuBtn && mobileMenuBtn.querySelector('i');
                        if (icon) {
                            icon.classList.remove('fa-times');
                            icon.classList.add('fa-bars');
                        }
                    }
                });

                // Add animation to hero on load
                const heroContent = document.querySelector('.hero-content');
                if (heroContent) heroContent.classList.add('fade-in');
            });

    </script>
</body>

</html>